(()=>{var e={};e.id=92,e.ids=[92],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},28110:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(47572),t(14202),t(71363);var r=t(36576),a=t(72007),i=t(21818),n=t.n(i),l=t(88897),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["progress",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,47572)),"/home/ubuntu/berean-bible-app/app/app/progress/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,14202)),"/home/ubuntu/berean-bible-app/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/berean-bible-app/app/app/progress/page.tsx"],m="/progress/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/progress/page",pathname:"/progress",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},10209:(e,s,t)=>{Promise.resolve().then(t.bind(t,80521))},80521:(e,s,t)=>{"use strict";t.d(s,{ProgressContent:()=>v});var r=t(62901),a=t(23803),i=t(31606),n=t(21395),l=t(87552),d=t(26101),c=t(21391),o=t(40922);let m=(0,t(71945).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var x=t(33901),u=t(31198),p=t(76021),h=t(68637),g=t(19191);function v({data:e}){let s=Math.max(1,Math.ceil(e.overview.completedDays/7)),t=(e.overview.completedDays/s).toFixed(1),v=Object.entries(e.monthlyProgress).sort(([e],[s])=>e.localeCompare(s)).slice(-6),j=Math.max(...Object.values(e.monthlyProgress));return r.jsx(g.L,{children:(0,r.jsxs)("div",{className:"container mx-auto p-4 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold font-serif",children:"Progress Tracking"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Your journey through the ",e.plan.name]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[e.overview.progressPercentage.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Days Completed"}),r.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.overview.completedDays}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["of ",e.overview.totalDays," total days"]}),r.jsx(n.E,{value:e.overview.progressPercentage,className:"mt-2 h-2"})]})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Current Streak"}),r.jsx(d.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.overview.currentStreak}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Longest: ",e.overview.longestStreak," days"]}),r.jsx("div",{className:"text-xs text-green-600 mt-1",children:e.overview.currentStreak>0?"Keep it up!":"Start your streak today!"})]})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Avg Reading Time"}),r.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:(0,h.Po)(e.overview.averageReadingTime)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"per session"}),(0,r.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[t," days/week average"]})]})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Achievements"}),r.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.achievements.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"earned so far"}),e.achievements.length>0&&(0,r.jsxs)("div",{className:"text-xs text-purple-600 mt-1",children:["Latest: ",e.achievements[0].name]})]})]})]}),(0,r.jsxs)(a.Zb,{children:[r.jsx(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center gap-2",children:[r.jsx(m,{className:"h-5 w-5"}),"Monthly Progress"]})}),r.jsx(a.aY,{children:r.jsx("div",{className:"space-y-4",children:0===v.length?(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(x.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No reading data yet"}),r.jsx("p",{className:"text-sm",children:"Complete your first reading to see progress!"})]}):r.jsx("div",{className:"space-y-3",children:v.map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-20 text-sm font-medium",children:new Date(e+"-01").toLocaleDateString("en-US",{month:"short",year:"numeric"})}),r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-muted rounded-full h-6 overflow-hidden",children:r.jsx("div",{className:"bg-primary h-full transition-all duration-300",style:{width:`${s/j*100}%`}})}),r.jsx("div",{className:"text-sm font-medium w-8 text-right",children:s})]})})]},e))})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(a.Zb,{children:[r.jsx(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center gap-2",children:[r.jsx(u.Z,{className:"h-5 w-5"}),"Achievements"]})}),r.jsx(a.aY,{children:r.jsx("div",{className:"space-y-4",children:0===e.achievements.length?(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(o.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No achievements yet"}),r.jsx("p",{className:"text-sm",children:"Keep reading to unlock achievements!"})]}):e.achievements.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(o.Z,{className:"h-5 w-5 text-primary"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:e.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx(i.C,{variant:"secondary",className:"text-xs",children:e.category}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:(0,h.BK)(e.earnedAt)})]})]},e.id))})})]}),(0,r.jsxs)(a.Zb,{children:[r.jsx(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center gap-2",children:[r.jsx(p.Z,{className:"h-5 w-5"}),"Recent Activity"]})}),r.jsx(a.aY,{children:r.jsx("div",{className:"space-y-4",children:0===e.recentReadings.length?(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(p.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No recent activity"}),r.jsx("p",{className:"text-sm",children:"Start reading to track your progress!"})]}):e.recentReadings.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-medium",children:["Day ",e.day]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e.passages.join(", ")})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm",children:(0,h.BK)(e.completedAt)}),e.readingTimeSeconds&&r.jsx("div",{className:"text-xs text-muted-foreground",children:(0,h.Po)(Math.round(e.readingTimeSeconds/60))})]})]},e.id))})})]})]})]})})}},21395:(e,s,t)=>{"use strict";t.d(s,{E:()=>N});var r=t(62901),a=t(24383),i=t(89291),n=t(74132),l="Progress",[d,c]=(0,i.b)(l),[o,m]=d(l),x=a.forwardRef((e,s)=>{var t,a;let{__scopeProgress:i,value:l=null,max:d,getValueLabel:c=h,...m}=e;(d||0===d)&&!j(d)&&console.error((t=`${d}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=j(d)?d:100;null===l||f(l,x)||console.error((a=`${l}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=f(l,x)?l:null,p=v(u)?c(u,x):void 0;return(0,r.jsx)(o,{scope:i,value:u,max:x,children:(0,r.jsx)(n.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":v(u)?u:void 0,"aria-valuetext":p,role:"progressbar","data-state":g(u,x),"data-value":u??void 0,"data-max":x,...m,ref:s})})});x.displayName=l;var u="ProgressIndicator",p=a.forwardRef((e,s)=>{let{__scopeProgress:t,...a}=e,i=m(u,t);return(0,r.jsx)(n.WV.div,{"data-state":g(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:s})});function h(e,s){return`${Math.round(e/s*100)}%`}function g(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function v(e){return"number"==typeof e}function j(e){return v(e)&&!isNaN(e)&&e>0}function f(e,s){return v(e)&&!isNaN(e)&&e<=s&&e>=0}p.displayName=u;var y=t(68637);let N=a.forwardRef(({className:e,value:s,...t},a)=>r.jsx(x,{ref:a,className:(0,y.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:r.jsx(p,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));N.displayName=x.displayName},31198:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(71945).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},26101:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(71945).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},87552:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(71945).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},40922:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(71945).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},47572:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,dynamic:()=>c});var r=t(83537),a=t(15438),i=t(57978),n=t(11826),l=t(83178);let d=(0,t(88895).createProxy)(String.raw`/home/ubuntu/berean-bible-app/app/components/progress/progress-content.tsx#ProgressContent`),c="force-dynamic";async function o(){let e=await (0,i.getServerSession)(n.L);e||(0,a.redirect)("/");let[s,t,c,o]=await Promise.all([l._.readingProgress.findMany({where:{userId:e.user.id,isCompleted:!0},include:{dailyReading:!0},orderBy:{completedAt:"desc"}}),l._.readingStreak.findUnique({where:{userId:e.user.id}}),l._.userAchievement.findMany({where:{userId:e.user.id},include:{achievement:!0},orderBy:{earnedAt:"desc"}}),l._.readingPlan.findFirst({where:{isActive:!0}})]);if(!o)return r.jsx("div",{children:"No active reading plan found"});let m=s.length,x=o.totalDays,u=s.filter(e=>e.totalReadingTimeSeconds).map(e=>e.totalReadingTimeSeconds),p=u.length>0?u.reduce((e,s)=>e+s,0)/u.length:0,h=s.reduce((e,s)=>{let t=new Date(s.completedAt).toISOString().slice(0,7);return e[t]=(e[t]||0)+1,e},{}),g={overview:{completedDays:m,totalDays:x,progressPercentage:m/x*100,averageReadingTime:Math.round(p/60),currentStreak:t?.currentStreak||0,longestStreak:t?.longestStreak||0},achievements:c.map(e=>({id:e.id,name:e.achievement.name,description:e.achievement.description,icon:e.achievement.icon,category:e.achievement.category,earnedAt:e.earnedAt})),recentReadings:s.slice(0,10).map(e=>({id:e.id,day:e.dailyReading.day,passages:[...e.dailyReading.ntPassages||[],...e.dailyReading.otPassages||[]],completedAt:e.completedAt,readingTimeSeconds:e.totalReadingTimeSeconds})),monthlyProgress:h,plan:{name:o.name,totalDays:o.totalDays}};return r.jsx(d,{data:g})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[30,249,472,535,752,358,621,675,392],()=>t(28110));module.exports=r})();