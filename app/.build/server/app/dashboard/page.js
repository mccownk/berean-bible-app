(()=>{var e={};e.id=702,e.ids=[702],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},92322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>c}),t(71487),t(14202),t(71363);var a=t(36576),r=t(72007),i=t(21818),n=t.n(i),d=t(88897),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,71487)),"/home/ubuntu/berean-bible-app/app/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,14202)),"/home/ubuntu/berean-bible-app/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/berean-bible-app/app/app/dashboard/page.tsx"],u="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},78807:(e,s,t)=>{Promise.resolve().then(t.bind(t,22873))},22873:(e,s,t)=>{"use strict";t.d(s,{DashboardContent:()=>y});var a=t(62901),r=t(23803),i=t(27878),n=t(21395),d=t(31606),l=t(87552),c=t(26101),o=t(40922),u=t(18541),m=t(21391),x=t(49),p=t(76021),h=t(31198),g=t(68637),v=t(84374),f=t(19191);function y({data:e}){let s=(0,v.useRouter)(),t=(0,g.p)(e.progress.currentDay);return a.jsx(f.L,{children:(0,a.jsxs)("div",{className:"container mx-auto p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold font-serif",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Your daily Scripture examination journey"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Phase"}),a.jsx("div",{className:"font-semibold",children:t})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Overall Progress"}),a.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e.progress.completedDays,"/",e.progress.totalDays]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:[e.progress.progressPercentage,"% complete"]}),a.jsx(n.E,{value:e.progress.progressPercentage,className:"h-2"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Current Streak"}),a.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:e.streak.currentStreak}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[1===e.streak.currentStreak?"day":"days"," in a row"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Longest: ",e.streak.longestStreak," days"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Achievements"}),a.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:e.achievements.length}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[1===e.achievements.length?"achievement":"achievements"," earned"]}),e.achievements.length>0&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Latest: ",e.achievements[0].name]})]})]})]}),e.progress.currentReading&&(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-5 w-5"}),"Today's Reading - Day ",e.progress.currentDay]})}),a.jsx(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.progress.currentReading.passages.join(", ")}),e.progress.currentReading.estimatedMinutes&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(m.Z,{className:"h-4 w-4"}),(0,g.Po)(e.progress.currentReading.estimatedMinutes)]})]}),(0,a.jsxs)(i.z,{onClick:()=>{e.progress.currentReading&&s.push(`/read/${e.progress.currentDay}`)},className:"w-full sm:w-auto",children:["Continue Reading",a.jsx(x.Z,{className:"ml-2 h-4 w-4"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[a.jsx(p.Z,{className:"h-5 w-5"}),"Recent Readings"]})}),a.jsx(r.aY,{children:a.jsx("div",{className:"space-y-4",children:0===e.recentReadings.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(u.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No readings completed yet"}),a.jsx("p",{className:"text-sm",children:"Start your journey today!"})]}):e.recentReadings.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:["Day ",e.day]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.passages.join(", ")})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm",children:e.completedAt&&(0,g.BK)(e.completedAt)}),e.readingTimeSeconds&&a.jsx("div",{className:"text-xs text-muted-foreground",children:(0,g.Po)(Math.round(e.readingTimeSeconds/60))})]})]},e.id))})})]}),(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-5 w-5"}),"Recent Achievements"]})}),a.jsx(r.aY,{children:a.jsx("div",{className:"space-y-4",children:0===e.achievements.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(o.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No achievements yet"}),a.jsx("p",{className:"text-sm",children:"Complete your first reading!"})]}):e.achievements.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(o.Z,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:e.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx(d.C,{variant:"secondary",className:"text-xs",children:e.category}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:(0,g.BK)(e.earnedAt)})]})]},e.id))})})]})]})]})})}},21395:(e,s,t)=>{"use strict";t.d(s,{E:()=>N});var a=t(62901),r=t(24383),i=t(89291),n=t(74132),d="Progress",[l,c]=(0,i.b)(d),[o,u]=l(d),m=r.forwardRef((e,s)=>{var t,r;let{__scopeProgress:i,value:d=null,max:l,getValueLabel:c=h,...u}=e;(l||0===l)&&!f(l)&&console.error((t=`${l}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=f(l)?l:100;null===d||y(d,m)||console.error((r=`${d}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let x=y(d,m)?d:null,p=v(x)?c(x,m):void 0;return(0,a.jsx)(o,{scope:i,value:x,max:m,children:(0,a.jsx)(n.WV.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":v(x)?x:void 0,"aria-valuetext":p,role:"progressbar","data-state":g(x,m),"data-value":x??void 0,"data-max":m,...u,ref:s})})});m.displayName=d;var x="ProgressIndicator",p=r.forwardRef((e,s)=>{let{__scopeProgress:t,...r}=e,i=u(x,t);return(0,a.jsx)(n.WV.div,{"data-state":g(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:s})});function h(e,s){return`${Math.round(e/s*100)}%`}function g(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function v(e){return"number"==typeof e}function f(e){return v(e)&&!isNaN(e)&&e>0}function y(e,s){return v(e)&&!isNaN(e)&&e<=s&&e>=0}p.displayName=x;var j=t(68637);let N=r.forwardRef(({className:e,value:s,...t},r)=>a.jsx(m,{ref:r,className:(0,j.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:a.jsx(p,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));N.displayName=m.displayName},49:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(71945).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},31198:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(71945).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},26101:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(71945).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},87552:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(71945).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},40922:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(71945).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},71487:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,dynamic:()=>c});var a=t(83537),r=t(15438),i=t(57978),n=t(11826),d=t(83178);let l=(0,t(88895).createProxy)(String.raw`/home/ubuntu/berean-bible-app/app/components/dashboard/dashboard-content.tsx#DashboardContent`),c="force-dynamic";async function o(){let e=await (0,i.getServerSession)(n.L);e||(0,r.redirect)("/");let s=await d._.readingPlan.findFirst({where:{isActive:!0},include:{dailyReadings:{orderBy:{day:"asc"}}}});if(!s)return a.jsx("div",{children:"No active reading plan found"});let t=await d._.readingProgress.findMany({where:{userId:e.user.id,planId:s.id},include:{dailyReading:!0},orderBy:{completedAt:"desc"}}),c=await d._.readingStreak.findUnique({where:{userId:e.user.id}}),o=await d._.userAchievement.findMany({where:{userId:e.user.id},include:{achievement:!0},orderBy:{earnedAt:"desc"}}),u=t.filter(e=>e.isCompleted).length,m=s.totalDays,x=t.filter(e=>e.isCompleted).slice(0,5),p=t.find(e=>!e.isCompleted)?.dailyReading?.day||1,h=s.dailyReadings.find(e=>e.day===p),g={plan:{id:s.id,name:s.name,description:s.description,totalDays:s.totalDays},progress:{completedDays:u,totalDays:m,progressPercentage:Math.round(u/m*100),currentDay:p,currentReading:h?{id:h.id,day:h.day,passages:[...h.ntPassages||[],...h.otPassages||[]],estimatedMinutes:h.totalEstimatedMinutes}:null},streak:{currentStreak:c?.currentStreak||0,longestStreak:c?.longestStreak||0,lastReadingDate:c?.lastReadingDate||null},achievements:o.map(e=>({id:e.id,name:e.achievement.name,description:e.achievement.description,icon:e.achievement.icon,category:e.achievement.category,earnedAt:e.earnedAt})),recentReadings:x.map(e=>({id:e.id,day:e.dailyReading.day,passages:[...e.dailyReading.ntPassages||[],...e.dailyReading.otPassages||[]],completedAt:e.completedAt,readingTimeSeconds:e.totalReadingTimeSeconds}))};return a.jsx(l,{data:g})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[30,249,472,535,752,358,621,675,392],()=>t(92322));module.exports=a})();