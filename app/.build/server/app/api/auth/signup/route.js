"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},86834:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{POST:()=>l,dynamic:()=>d});var a=s(79182),n=s(72007),i=s(56719),u=s(93442),o=s(81304),p=s(83178);let d="force-dynamic";async function l(e){try{let{name:t,email:s,password:r}=await e.json();if(!t?.trim())return u.NextResponse.json({message:"Name is required"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return u.NextResponse.json({message:"Invalid email address"},{status:400});if(!(r.length>=8))return u.NextResponse.json({message:"Password must be at least 8 characters long"},{status:400});if(await p._.user.findUnique({where:{email:s}}))return u.NextResponse.json({message:"User already exists"},{status:409});let a=await o.ZP.hash(r,10),n=await p._.user.create({data:{name:t.trim(),email:s,password:a,theme:"light",fontSize:"medium",notificationsEnabled:!0,timezone:"UTC"}});return await p._.readingStreak.create({data:{userId:n.id,currentStreak:0,longestStreak:0,lastReadingDate:null}}),u.NextResponse.json({message:"User created successfully",user:{id:n.id,name:n.name,email:n.email}},{status:201})}catch(e){return console.error("Signup error:",e),u.NextResponse.json({message:"Internal server error"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"/home/ubuntu/berean-bible-app/app/app/api/auth/signup/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:g,serverHooks:h}=m,x="/api/auth/signup/route";function f(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},83178:(e,t,s)=>{s.d(t,{_:()=>a});var r=s(53524);let a=globalThis.prisma??new r.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[30,249,609],()=>s(86834));module.exports=r})();