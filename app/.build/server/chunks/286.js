"use strict";exports.id=286,exports.ids=[286],exports.modules={80568:(e,a,s)=>{s.d(a,{X:()=>d,bZ:()=>o});var t=s(62901),r=s(24383),l=s(47279),n=s(68637);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=r.forwardRef(({className:e,variant:a,...s},r)=>t.jsx("div",{ref:r,role:"alert",className:(0,n.cn)(i({variant:a}),e),...s}));o.displayName="Alert",r.forwardRef(({className:e,...a},s)=>t.jsx("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...a}));d.displayName="AlertDescription"},65923:(e,a,s)=>{s.d(a,{$N:()=>p,Be:()=>u,Vq:()=>o,cZ:()=>m,fK:()=>x});var t=s(62901),r=s(24383),l=s(18832),n=s(42594),i=s(68637);let o=l.fC;l.xz;let d=l.h_;l.x8;let c=r.forwardRef(({className:e,...a},s)=>t.jsx(l.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));c.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(d,{children:[t.jsx(c,{}),(0,t.jsxs)(l.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(n.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.VY.displayName;let x=({className:e,...a})=>t.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});x.displayName="DialogHeader";let p=r.forwardRef(({className:e,...a},s)=>t.jsx(l.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));p.displayName=l.Dx.displayName;let u=r.forwardRef(({className:e,...a},s)=>t.jsx(l.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));u.displayName=l.dk.displayName},81286:(e,a,s)=>{s.d(a,{m:()=>P});var t=s(62901),r=s(24383),l=s(79046),n=s(75811),i=s(18541),o=s(67935),d=s(10508),c=s(7259),m=s(91046),x=s(85453),p=s(27878),u=s(31606),f=s(78703),h=s(68637);let g=r.forwardRef(({className:e,orientation:a="horizontal",decorative:s=!0,...r},l)=>t.jsx(f.f,{ref:l,decorative:s,orientation:a,className:(0,h.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));g.displayName=f.f.displayName;var N=s(82477);let j=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(N.fC,{ref:r,className:(0,h.cn)("relative overflow-hidden",e),...s,children:[t.jsx(N.l_,{className:"h-full w-full rounded-[inherit]",children:a}),t.jsx(y,{}),t.jsx(N.Ns,{})]}));j.displayName=N.fC.displayName;let y=r.forwardRef(({className:e,orientation:a="vertical",...s},r)=>t.jsx(N.gb,{ref:r,orientation:a,className:(0,h.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(N.q4,{className:"relative flex-1 rounded-full bg-border"})}));y.displayName=N.gb.displayName;var v=s(82829);let b=v.fC,w=v.xz,C=r.forwardRef(({className:e,align:a="center",sideOffset:s=4,...r},l)=>t.jsx(v.h_,{children:t.jsx(v.VY,{ref:l,align:a,sideOffset:s,className:(0,h.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));C.displayName=v.VY.displayName;var S=s(80350);s(65923);let k=r.forwardRef(({className:e,...a},s)=>t.jsx(S.mY,{ref:s,className:(0,h.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...a}));k.displayName=S.mY.displayName;let Z=r.forwardRef(({className:e,...a},s)=>(0,t.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(S.mY.Input,{ref:s,className:(0,h.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...a})]}));Z.displayName=S.mY.Input.displayName;let R=r.forwardRef(({className:e,...a},s)=>t.jsx(S.mY.List,{ref:s,className:(0,h.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...a}));R.displayName=S.mY.List.displayName;let Y=r.forwardRef((e,a)=>t.jsx(S.mY.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));Y.displayName=S.mY.Empty.displayName;let z=r.forwardRef(({className:e,...a},s)=>t.jsx(S.mY.Group,{ref:s,className:(0,h.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...a}));z.displayName=S.mY.Group.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(S.mY.Separator,{ref:s,className:(0,h.cn)("-mx-1 h-px bg-border",e),...a})).displayName=S.mY.Separator.displayName;let I=r.forwardRef(({className:e,...a},s)=>t.jsx(S.mY.Item,{ref:s,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...a}));function T({selectedTranslation:e,onTranslationChange:a,translations:s,translationGroups:m,recentTranslations:x=[],favoriteTranslations:f=[],compact:g=!1,showDescription:N=!0,className:j}){let[y,v]=(0,r.useState)(!1),[S,k]=(0,r.useState)(""),[Z,R]=(0,r.useState)(null),Y=s.find(a=>a.id===e),z=s.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())||e.abbreviation.toLowerCase().includes(S.toLowerCase())||e.description&&e.description.toLowerCase().includes(S.toLowerCase())),I=s.filter(e=>x.includes(e.id)).slice(0,5),T=s.filter(e=>f.includes(e.id)),A=e=>{a(e),v(!1)},D=e=>{switch(e){case"popular":return t.jsx(l.Z,{className:"h-3 w-3 text-yellow-600"});case"modern":return t.jsx(n.Z,{className:"h-3 w-3 text-blue-600"});case"traditional":return t.jsx(i.Z,{className:"h-3 w-3 text-amber-600"});case"specialized":return t.jsx(o.Z,{className:"h-3 w-3 text-purple-600"});case"historical":return t.jsx(d.Z,{className:"h-3 w-3 text-gray-600"});default:return t.jsx(i.Z,{className:"h-3 w-3"})}},_=e=>{switch(e){case"popular":return"bg-yellow-50 border-yellow-200 text-yellow-700";case"modern":return"bg-blue-50 border-blue-200 text-blue-700";case"traditional":return"bg-amber-50 border-amber-200 text-amber-700";case"specialized":return"bg-purple-50 border-purple-200 text-purple-700";case"historical":return"bg-gray-50 border-gray-200 text-gray-700";default:return"bg-muted border-muted-foreground/20"}};return g?(0,t.jsxs)(b,{open:y,onOpenChange:v,children:[t.jsx(w,{asChild:!0,children:(0,t.jsxs)(p.z,{variant:"outline",role:"combobox","aria-expanded":y,className:(0,h.cn)("justify-between",j),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[Y&&D(Y.category),t.jsx("span",{className:"font-medium",children:Y?.abbreviation||e})]}),t.jsx(c.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx(C,{className:"w-80 p-0",align:"start",children:t.jsx(V,{translations:z,translationGroups:m,recentTranslations:I,favoriteTranslations:T,selectedTranslation:e,searchQuery:S,onSearchChange:k,onSelect:A,showDescription:N,getCategoryIcon:D,getCategoryColor:_})})]}):(0,t.jsxs)("div",{className:(0,h.cn)("space-y-2",j),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium",children:"Bible Translation"}),(0,t.jsxs)(u.C,{variant:"outline",className:"text-xs",children:[s.length," available"]})]}),(0,t.jsxs)(b,{open:y,onOpenChange:v,children:[t.jsx(w,{asChild:!0,children:(0,t.jsxs)(p.z,{variant:"outline",role:"combobox","aria-expanded":y,className:"w-full justify-between h-auto p-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 text-left",children:[Y&&D(Y.category),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:Y?.abbreviation||e}),t.jsx(u.C,{variant:"outline",className:(0,h.cn)("text-xs",Y&&_(Y.category)),children:Y?.source==="esv"?"ESV API":"API.Bible"})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:Y?.name||"Select translation..."}),N&&Y?.description&&t.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:Y.description})]})]}),t.jsx(c.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx(C,{className:"w-[500px] p-0",align:"start",children:t.jsx(V,{translations:z,translationGroups:m,recentTranslations:I,favoriteTranslations:T,selectedTranslation:e,searchQuery:S,onSearchChange:k,onSelect:A,showDescription:N,getCategoryIcon:D,getCategoryColor:_})})]})]})}function V({translations:e,translationGroups:a,recentTranslations:s,favoriteTranslations:r,selectedTranslation:n,searchQuery:i,onSearchChange:o,onSelect:d,showDescription:c,getCategoryIcon:p,getCategoryColor:f}){return(0,t.jsxs)(k,{children:[(0,t.jsxs)("div",{className:"flex items-center border-b px-3",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(Z,{placeholder:"Search translations...",value:i,onValueChange:o,className:"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50"})]}),t.jsx(R,{children:(0,t.jsxs)(j,{className:"max-h-[400px]",children:[""===i&&(0,t.jsxs)(t.Fragment,{children:[s.length>0&&t.jsx(z,{heading:"Recently Used",children:s.map(e=>(0,t.jsxs)(I,{value:e.id,onSelect:d,className:"flex items-start gap-3 p-3",children:[t.jsx(x.Z,{className:(0,h.cn)("h-4 w-4 mt-0.5",n===e.id?"opacity-100":"opacity-0")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[p(e.category),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.abbreviation}),t.jsx(u.C,{variant:"outline",className:"text-xs",children:"esv"===e.source?"ESV":"API"})]}),t.jsx("div",{className:"text-sm text-muted-foreground truncate",children:e.name})]})]})]},e.id))}),r.length>0&&t.jsx(z,{heading:"Favorites",children:r.map(e=>(0,t.jsxs)(I,{value:e.id,onSelect:d,className:"flex items-start gap-3 p-3",children:[t.jsx(x.Z,{className:(0,h.cn)("h-4 w-4 mt-0.5",n===e.id?"opacity-100":"opacity-0")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[t.jsx(l.Z,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"}),p(e.category),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.abbreviation}),t.jsx(u.C,{variant:"outline",className:"text-xs",children:"esv"===e.source?"ESV":"API"})]}),t.jsx("div",{className:"text-sm text-muted-foreground truncate",children:e.name})]})]})]},e.id))}),(s.length>0||r.length>0)&&t.jsx(g,{})]}),""===i?a.map(e=>t.jsx(z,{heading:e.label,children:e.translations.map(e=>t.jsx(A,{translation:e,isSelected:n===e.id,onSelect:d,showDescription:c,getCategoryIcon:p,getCategoryColor:f},e.id))},e.category)):t.jsx(z,{heading:"Search Results",children:0===e.length?t.jsx(Y,{children:"No translations found."}):e.map(e=>t.jsx(A,{translation:e,isSelected:n===e.id,onSelect:d,showDescription:c,getCategoryIcon:p,getCategoryColor:f},e.id))})]})})]})}function A({translation:e,isSelected:a,onSelect:s,showDescription:r,getCategoryIcon:l,getCategoryColor:n}){return(0,t.jsxs)(I,{value:e.id,onSelect:s,className:"flex items-start gap-3 p-3",children:[t.jsx(x.Z,{className:(0,h.cn)("h-4 w-4 mt-0.5",a?"opacity-100":"opacity-0")}),(0,t.jsxs)("div",{className:"flex items-start gap-2 min-w-0 flex-1",children:[l(e.category),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium",children:e.abbreviation}),t.jsx(u.C,{variant:"outline",className:(0,h.cn)("text-xs",n(e.category)),children:e.category}),t.jsx(u.C,{variant:"outline",className:"text-xs",children:"esv"===e.source?"ESV API":"API.Bible"})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:e.name}),r&&e.description&&t.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]})]})]})}function D({className:e,...a}){return t.jsx("div",{className:(0,h.cn)("animate-pulse rounded-md bg-muted",e),...a})}I.displayName=S.mY.Item.displayName;var _=s(80568),L=s(35825);function P({selectedTranslation:e,onTranslationChange:a,compact:s=!1,showDescription:l=!0,className:n,userId:i}){let[o,d]=(0,r.useState)([]),[c,m]=(0,r.useState)([]),[x,p]=(0,r.useState)([]),[u,f]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[N,j]=(0,r.useState)(null),y=async e=>{if(a(e),i)try{await fetch("/api/user/update-translation-history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i,translationId:e})}),p(a=>[e,...a.filter(a=>a!==e)].slice(0,5))}catch(e){console.warn("Failed to update translation history:",e)}};return h?(0,t.jsxs)("div",{className:n,children:[!s&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(D,{className:"h-4 w-32"}),t.jsx(D,{className:"h-4 w-16"})]}),t.jsx(D,{className:"h-16 w-full"})]}),s&&t.jsx(D,{className:"h-10 w-32"})]}):N?(0,t.jsxs)(_.bZ,{variant:"destructive",className:n,children:[t.jsx(L.Z,{className:"h-4 w-4"}),t.jsx(_.X,{children:N})]}):0===o.length?(0,t.jsxs)(_.bZ,{className:n,children:[t.jsx(L.Z,{className:"h-4 w-4"}),t.jsx(_.X,{children:"No translations available. Please check your connection and try again."})]}):t.jsx(T,{selectedTranslation:e,onTranslationChange:y,translations:o,translationGroups:c,recentTranslations:x,favoriteTranslations:u,compact:s,showDescription:l,className:n})}}};